<div class="form-container">
    <% if (title) { %>
        <h1><%= title %></h1>
    <% } else {
        res.redirect('/')
    } %>
    
    <%- messages() %>

    <% if (errors) {%>
        <ul class="notice">
            <% errors.array().forEach(error => { %>
                <li><%= error.msg %></li>
            <% }) %>
        </ul>
    <% } %>
    <form id="loginForm" action="/account/login" method="post">
        <div>
            <label for="email" class="required">Email:</label><br>
            <input type="email" id="email" name="account_email" value="<%= locals.account_email %>" placeholder="Enter your first name" required>
        </div>
        
        <div>
            <label for="password" class="required">Password:</label><br>
            <input type="password" id="password" name="account_password" placeholder="Create your password"  required>
            <button type=button id="toggleShowPW">Show Password</button>
        </div>
        
        <div class="submit">
            <input type="submit" value="LOGIN" >
        </div>
    </form>
    <div class="sign-up">No account? <span><a href="/account/register">Sign-up</a></span></div>
 </div>

 <script>
    const toggleShowPW = document.getElementById('toggleShowPW')
    toggleShowPW.addEventListener('click', () => {
        const pwInput = document.getElementById('password')
        const type = pwInput.getAttribute('type')

        if (type === "password") {
            pwInput.setAttribute('type', 'text')
            toggleShowPW.innerHTML = "Hide Password"
        } else {
            pwInput.setAttribute('type', 'password')
            toggleShowPW.innerHTML = 'Show Password'
        }
    })
 </script>